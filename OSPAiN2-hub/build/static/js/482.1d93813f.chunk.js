(()=>{"use strict";let e=function(e){return e.MODEL_REQUEST="model_request",e.EMBEDDINGS="embeddings",e.FILE_OPERATION="file_operation",e.DATA_PROCESSING="data_processing",e.EXTERNAL_API="external_api",e.CUSTOM="custom",e}({}),t=function(e){return e.TASK_ASSIGNED="task_assigned",e.TASK_COMPLETED="task_completed",e.TASK_FAILED="task_failed",e.TASK_PROGRESS="task_progress",e.WORKER_READY="worker_ready",e.WORKER_BUSY="worker_busy",e.WORKER_ERROR="worker_error",e.WORKER_TERMINATED="worker_terminated",e}({}),s=null,a={},r=!1;async function n(a,r,n){try{let c;switch(o(a,0),r){case e.MODEL_REQUEST:c=await async function(e){return await i(1e3),{text:`Response to prompt: ${e.prompt.substring(0,50)}...`,tokens:e.prompt.length/4,model:e.modelId||"default"}}(n);break;case e.EMBEDDINGS:c=await async function(e){return await i(Math.min(500*e.texts.length,3e3)),o(e.taskId,50),{embeddings:e.texts.map((()=>{const t=e.dimensions||128,s=new Array(t);for(let e=0;e<t;e++)s[e]=2*Math.random()-1;return s}))}}(n);break;case e.FILE_OPERATION:c=await async function(e){return await i(500),o(e.taskId,50),{success:!0,operation:e.operation,path:e.sourcePath,timestamp:(new Date).toISOString()}}(n);break;case e.DATA_PROCESSING:c=await async function(e){const t=Math.min(e.size||1e3,5e3),s=5,a=t/s;for(let r=1;r<=s;r++)await i(a),o(e.taskId,r/s*100);return{processed:!0,itemsProcessed:e.size||100,duration:t,timestamp:(new Date).toISOString()}}(n);break;case e.EXTERNAL_API:c=await async function(e){return await i(1500),o(e.taskId,50),{success:!0,url:e.url,method:e.method,responseCode:200,responseBody:{message:"Mock API response",timestamp:(new Date).toISOString()}}}(n);break;case e.CUSTOM:c=await async function(e){const t=e.steps||3;for(let s=1;s<=t;s++)await i(500),o(e.taskId,s/t*100);return{result:e.expectedResult||"Custom task completed",custom:!0,timestamp:(new Date).toISOString()}}(n);break;default:throw new Error(`Unknown task type: ${r}`)}o(a,100),self.postMessage({type:t.TASK_COMPLETED,taskId:a,workerId:s,data:c,timestamp:new Date})}catch(c){self.postMessage({type:t.TASK_FAILED,taskId:a,workerId:s,error:c instanceof Error?c.message:String(c),timestamp:new Date})}}function o(e,a){self.postMessage({type:t.TASK_PROGRESS,taskId:e,workerId:s,progress:a,timestamp:new Date})}function i(e){return new Promise((t=>setTimeout(t,e)))}self.onmessage=async e=>{const o=e.data;try{switch(o.type){case"initialize":i=o.workerId,c=o.config,s=i,a=c||{},r=!0,self.postMessage({type:t.WORKER_READY,workerId:s,timestamp:new Date});break;case"execute":if(!r)throw new Error("Worker not initialized");await n(o.taskId,o.taskType,o.taskData);break;default:console.warn(`Unknown message type: ${o.type}`)}}catch(p){!function(e){self.postMessage({type:t.WORKER_ERROR,workerId:s,error:e instanceof Error?e.message:String(e),timestamp:new Date})}(p)}var i,c}})();
//# sourceMappingURL=482.1d93813f.chunk.js.map