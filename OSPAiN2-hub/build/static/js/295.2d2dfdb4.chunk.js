(()=>{"use strict";var e={2493:(e,t)=>{var s,a,r,n;t.WorkerMessageType=t.TaskType=void 0,function(e){e[e.CRITICAL=0]="CRITICAL",e[e.HIGH=1]="HIGH",e[e.MEDIUM=2]="MEDIUM",e[e.LOW=3]="LOW",e[e.BACKGROUND=4]="BACKGROUND"}(s||(s={})),function(e){e.PENDING="pending",e.RUNNING="running",e.COMPLETED="completed",e.FAILED="failed",e.CANCELLED="cancelled",e.RETRY="retry"}(a||(a={})),function(e){e.MODEL_REQUEST="model_request",e.EMBEDDINGS="embeddings",e.FILE_OPERATION="file_operation",e.DATA_PROCESSING="data_processing",e.EXTERNAL_API="external_api",e.CUSTOM="custom"}(r||(t.TaskType=r={})),function(e){e.TASK_ASSIGNED="task_assigned",e.TASK_COMPLETED="task_completed",e.TASK_FAILED="task_failed",e.TASK_PROGRESS="task_progress",e.WORKER_READY="worker_ready",e.WORKER_BUSY="worker_busy",e.WORKER_ERROR="worker_error",e.WORKER_TERMINATED="worker_terminated"}(n||(t.WorkerMessageType=n={}))}},t={};var s=function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,s),n.exports}(2493);let a=null,r=!1;async function n(e,t,r){try{let n;switch(o(e,0),t){case s.TaskType.MODEL_REQUEST:n=await async function(e){return await i(1e3),{text:`Response to prompt: ${e.prompt.substring(0,50)}...`,tokens:e.prompt.length/4,model:e.modelId||"default"}}(r);break;case s.TaskType.EMBEDDINGS:n=await async function(e){return await i(Math.min(500*e.texts.length,3e3)),o(e.taskId,50),{embeddings:e.texts.map((()=>{const t=e.dimensions||128,s=new Array(t);for(let e=0;e<t;e++)s[e]=2*Math.random()-1;return s}))}}(r);break;case s.TaskType.FILE_OPERATION:n=await async function(e){return await i(500),o(e.taskId,50),{success:!0,operation:e.operation,path:e.sourcePath,timestamp:(new Date).toISOString()}}(r);break;case s.TaskType.DATA_PROCESSING:n=await async function(e){const t=Math.min(e.size||1e3,5e3),s=5,a=t/s;for(let r=1;r<=s;r++)await i(a),o(e.taskId,r/s*100);return{processed:!0,itemsProcessed:e.size||100,duration:t,timestamp:(new Date).toISOString()}}(r);break;case s.TaskType.EXTERNAL_API:n=await async function(e){return await i(1500),o(e.taskId,50),{success:!0,url:e.url,method:e.method,responseCode:200,responseBody:{message:"Mock API response",timestamp:(new Date).toISOString()}}}(r);break;case s.TaskType.CUSTOM:n=await async function(e){const t=e.steps||3;for(let s=1;s<=t;s++)await i(500),o(e.taskId,s/t*100);return{result:e.expectedResult||"Custom task completed",custom:!0,timestamp:(new Date).toISOString()}}(r);break;default:throw new Error(`Unknown task type: ${t}`)}o(e,100),self.postMessage({type:s.WorkerMessageType.TASK_COMPLETED,taskId:e,workerId:a,data:n,timestamp:new Date})}catch(n){self.postMessage({type:s.WorkerMessageType.TASK_FAILED,taskId:e,workerId:a,error:n instanceof Error?n.message:String(n),timestamp:new Date})}}function o(e,t){self.postMessage({type:s.WorkerMessageType.TASK_PROGRESS,taskId:e,workerId:a,progress:t,timestamp:new Date})}function i(e){return new Promise((t=>setTimeout(t,e)))}self.onmessage=async e=>{const t=e.data;try{switch(t.type){case"initialize":o=t.workerId,t.config,a=o,r=!0,self.postMessage({type:s.WorkerMessageType.WORKER_READY,workerId:a,timestamp:new Date});break;case"execute":if(!r)throw new Error("Worker not initialized");await n(t.taskId,t.taskType,t.taskData);break;default:console.warn(`Unknown message type: ${t.type}`)}}catch(i){!function(e){self.postMessage({type:s.WorkerMessageType.WORKER_ERROR,workerId:a,error:e instanceof Error?e.message:String(e),timestamp:new Date})}(i)}var o}})();
//# sourceMappingURL=295.2d2dfdb4.chunk.js.map